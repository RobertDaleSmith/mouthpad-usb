# Board-specific configuration for nRF52840 Dongle with Adafruit UF2 Bootloader
# SoftDevice S140 6.1.1 layout

# Build UF2 for Adafruit bootloader
CONFIG_BUILD_OUTPUT_UF2=y

# Disable the board's default nRF5 bootloader assumption
# NOTE: This requires building with --no-sysbuild flag
CONFIG_BOARD_HAS_NRF5_BOOTLOADER=n

# Disable MCUboot (we're using UF2 bootloader instead)
CONFIG_BOOTLOADER_MCUBOOT=n

# App starts at 0x26000 (after SoftDevice) - same as Feather
CONFIG_FLASH_LOAD_OFFSET=0x26000
CONFIG_FLASH_LOAD_SIZE=0xc6000

# Disable BT settings temporarily for testing
CONFIG_BT_SETTINGS=y

# NVS configuration for storage partition (32KB at 0xec000 from pm_static)
CONFIG_SETTINGS_NVS_SECTOR_COUNT=8
CONFIG_SETTINGS_NVS_SECTOR_SIZE_MULT=1

# Hardware stack protection
CONFIG_HW_STACK_PROTECTION=y

# Disable display support
CONFIG_DISPLAY=n

# Flash and partition support
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_USE_DT_CODE_PARTITION=y
