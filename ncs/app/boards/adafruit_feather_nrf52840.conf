# Board-specific configuration for Adafruit Feather nRF52840

# Build UF2 by default, supported by the Adafruit nRF52 Bootloader
CONFIG_BUILD_OUTPUT_UF2=y
CONFIG_BOOTLOADER_MCUBOOT=n

# Flash and partition support (required for custom partition layouts)
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_USE_DT_CODE_PARTITION=y

# Re-enable BT settings with global pm_static.yml
CONFIG_BT_SETTINGS=y

# NVS configuration for 32KB storage partition (0x8000 bytes)  
# Flash page size is 4KB (0x1000), so 8 sectors * 4KB = 32KB
CONFIG_SETTINGS_NVS_SECTOR_COUNT=8
CONFIG_SETTINGS_NVS_SECTOR_SIZE_MULT=1

# Hardware stack protection (if available)
CONFIG_HW_STACK_PROTECTION=y

# Enable LED strip support for NeoPixel
CONFIG_LED_STRIP=y

# Enable debug logging for LED strip driver
CONFIG_LED_STRIP_LOG_LEVEL_DBG=y

# WS2812 specific configuration - use GPIO to match Arduino approach
CONFIG_WS2812_STRIP_GPIO=y

# Critical: Enable high-frequency clock control for precise WS2812 timing
CONFIG_CLOCK_CONTROL=y
CONFIG_CLOCK_CONTROL_NRF=y

# Enable HFXO for better timing accuracy (recommended by Nordic for WS2812)
CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y
CONFIG_CLOCK_CONTROL_NRF_K32SRC_500PPM=y
